# 工具配置 (Tooling config)

AdonisJS **大量依赖 TypeScript、Prettier 和 ESLint** 来保持代码一致性、在构建时检查错误，更重要的是，提供愉快的开发体验。

我们已将所有选择抽象为**开箱即用的配置预设**，供所有官方包和官方起始套件使用。

如果您想在自己用 TypeScript 编写的 Node.js 应用程序中使用相同的配置预设，请继续阅读本指南。

-----

## TSConfig

[`@adonisjs/tsconfig`](https://www.google.com/search?q=%5Bhttps://github.com/adonisjs/tooling-config/tree/main/packages/typescript-config%5D\(https://github.com/adonisjs/tooling-config/tree/main/packages/typescript-config\)) 包包含了 TypeScript 项目的基础配置。我们将 TypeScript 模块系统设置为 `NodeNext`，并使用 `TS Node + SWC` 进行即时编译。

您可以查看 [基础配置文件](https://github.com/adonisjs/tooling-config/blob/main/packages/typescript-config/tsconfig.base.json)、[应用配置文件](https://github.com/adonisjs/tooling-config/blob/main/packages/typescript-config/tsconfig.app.json)和[包开发配置文件](https://github.com/adonisjs/tooling-config/blob/main/packages/typescript-config/tsconfig.package.json)中的选项。

您可以按如下方式安装并使用该包：

```sh
npm i -D @adonisjs/tsconfig

# 请确保也安装以下包
npm i -D typescript ts-node-maintained @swc/core
```

创建 AdonisJS 应用程序时，请**继承**自 `tsconfig.app.json` 文件（起始套件已预配置）。

```jsonc
{
  "extends": "@adonisjs/tsconfig/tsconfig.app.json",
  "compilerOptions": {
    "rootDir": "./",
    "outDir": "./build"
  }
}
```

为 AdonisJS 生态系统创建包时，请**继承**自 `tsconfig.package.json` 文件。

```jsonc
{
  "extends": "@adonisjs/tsconfig/tsconfig.package.json",
  "compilerOptions": {
    "rootDir": "./",
    "outDir": "./build"
  }
}
```

-----

## Prettier 配置 (Prettier config)

[`@adonisjs/prettier-config`](https://www.google.com/search?q=%5Bhttps://github.com/adonisjs/tooling-config/tree/main/packages/prettier-config%5D\(https://github.com/adonisjs/tooling-config/tree/main/packages/prettier-config\)) 包包含了自动格式化源代码以实现一致风格的基础配置。您可以查看 [index.json 文件](https://github.com/adonisjs/tooling-config/blob/main/packages/prettier-config/index.json)中的配置选项。

您可以按如下方式安装并使用该包：

```sh
npm i -D @adonisjs/prettier-config

# 请确保也安装 prettier
npm i -D prettier
```

在 `package.json` 文件中定义以下属性。

```jsonc
{
  "prettier": "@adonisjs/prettier-config"
}
```

此外，创建一个 `.prettierignore` 文件以忽略特定文件和目录。

```
// title: .prettierignore
build
node_modules
```

-----

## ESLint 配置 (ESLint config)

[`@adonisjs/eslint-config`](https://www.google.com/search?q=%5Bhttps://github.com/adonisjs/tooling-config/tree/main/packages/eslint-config%5D\(https://github.com/adonisjs/tooling-config/tree/main/packages/eslint-config\)) 包包含了应用 linting 规则的基础配置。您可以查看 [基础配置文件](https://github.com/adonisjs/tooling-config/blob/main/packages/eslint-config/presets/ts_base.js)、[应用配置文件](https://github.com/adonisjs/tooling-config/blob/main/packages/eslint-config/presets/ts_app.js)和[包开发配置文件](https://github.com/adonisjs/tooling-config/blob/main/packages/eslint-config/presets/ts_package.js)中的选项。

您可以按如下方式安装并使用该包：

:::note

我们的配置预设使用 [eslint-plugin-prettier](https://github.com/prettier/eslint-plugin-prettier) 来确保 **ESLint 和 Prettier 可以协同工作**而不会相互干扰。

:::

```sh
npm i -D @adonisjs/eslint-config

# 请确保也安装 eslint
npm i -D eslint
```

创建 AdonisJS 应用程序时，请**继承**自 `eslint-config/app` 文件（起始套件已预配置）。

```json
// title: package.json
{
  "eslintConfig": {
    "extends": "@adonisjs/eslint-config/app"
  }
}
```

为 AdonisJS 生态系统创建包时，请**继承**自 `eslint-config/package` 文件。

```json
// title: package.json
{
  "eslintConfig": {
    "extends": "@adonisjs/eslint-config/package"
  }
}
```
